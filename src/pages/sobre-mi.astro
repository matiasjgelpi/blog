---
import Header from "../components/Header.astro";
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

const [aboutEntry] = await getCollection("about");

const data = aboutEntry?.data;

const { Content } = await aboutEntry?.render();
---

<Layout>
  <div class="min-h-screen bg-background">
    <Header />

    <main class="max-w-6xl mx-auto px-6 py-12">
      <article class="max-w-3xl mx-auto">
        <div class="border-b border-border pb-6 mb-8 text-center">
          <h1
            class="font-serif-display text-3xl font-bold text-foreground mb-4"
          >
            {data?.title}
          </h1>
          <p class="text-muted-foreground text-lg font-serif-body italic">
            {data?.description}
          </p>
        </div>
        <div
          class="prose prose-slate dark:prose-invert max-w-none font-serif-body text-foreground"
        >
          <div class="space-y-6 text-lg leading-relaxed">
            <Content />
          </div>

          <div class="mt-12 pt-8 border-t border-border text-center">
            <p class="text-muted-foreground font-serif-body">
              También me puedes encontrar en{" "}
           {
             data?.contact?.map((contact, index) => (
              <>
               <a href={contact.URL} class="text-primary hover:underline">
                 {contact.name === 'mail' ? contact.URL : contact.name}
               </a> {index === data?.contact?.length - 1 ? '' : '•'}
               </>
             ))
           }
            </p>
          </div>
        </div>
      </article>

      <footer class="border-t border-border bg-muted/30 mt-16">
        <div class="max-w-6xl mx-auto px-6 py-8 text-center">
          <p class="text-sm text-muted-foreground font-serif-body">
            © 2024 Matías Gelpi. Todas las notas marginales son mías.
          </p>
        </div>
      </footer>
    </main>
  </div>
</Layout>
